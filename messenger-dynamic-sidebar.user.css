/* ==UserStyle==
@name           Messenger Dynamic Sidebar
@description    Show and hide your chat sidebar seamlessly
@author         reizumi
@namespace      codeberg.org/reizumi
@homepageURL    https://codeberg.org/reizumi/userstyles
@updateURL      https://codeberg.org/reizumi/userstyles/raw/branch/master/messenger-dynamic-sidebar.user.css
@preprocessor   stylus
@version        1.1.3
@license        CC-BY-SA-4.0

@var text       sidebarSpeed    "Sidebar speed"                 .2s
@var text       sidebarDelay    "Sidebar leave delay"           .1s
@var select     sidebarEase     "Sidebar easing" {
    "Ease*"         : "ease",
    "Ease-in"       : "ease-in",
    "Ease-out"      : "ease-out",
    "Ease-in-out"   : "ease-in-out"
}
@var text       sidebarWidth    "Sidebar width (focused)"       360px
==/UserStyle== */

@-moz-document domain("messenger.com") {
    /* Header */
    .jktsbyx5.hv4rvrfc.osnr6wyh.dati1w0a.ahb00how {
        opacity: 0;
        height: 0;
        padding: 0 16px;
        transition: sidebarSpeed;
    }
    /* Search */
    .rq0escxv.l9j0dhe7.du4w35lb.hv4rvrfc.dati1w0a.f10w8fjw.ipjc6fyt {
        opacity: 0;
        height: 0;
        transition: sidebarSpeed;
    }
    /* Text Header */
    .o36gj0jk .gmql0nx0.l94mrbxd.p1ri9a11.lzcic4wl.d2edcug0.hpfvmrgz {
        width: 150px;
    }
    /* Unread Message Indicator */
    .o36gj0jk .is6700om[data-visualcompletion="ignore"] {
        position: relative;
        right: 83px;
        transition-delay: sidebarDelay;
    }
    /* Notification bell */
    .o36gj0jk .bp9cbjyn.j83agx80.owycx6da svg,
    .o36gj0jk .bp9cbjyn.j83agx80.owycx6da .xthkpp0z {
        display: none;
    }
    /* Hide contents (workaround) */
    .rq0escxv.l9j0dhe7.du4w35lb.j83agx80.buofh1pr.g5gj957u.hpfvmrgz.i1fnvgqd.bp9cbjyn.lhclo0ds.btwxx1t3.mg4g778l {
        overflow: hidden;
    }
    /* Sidebar (not focused) */
    .o36gj0jk {
        width: 80px;
        min-width: 80px;
        transition: width sidebarSpeed sidebarEase;
        transition-delay: sidebarDelay;
    }
    /* Sidebar (focused) */
    .o36gj0jk:hover {
        width: sidebarWidth;
        transition-delay: 0s;
    }
    /* Header (focused) */
    .o36gj0jk:hover .jktsbyx5.hv4rvrfc.osnr6wyh.dati1w0a.ahb00how {
        opacity: 1;
        height: auto;
        padding: 10px 16px;
    }
    /* Search (focused) */
    .o36gj0jk:hover .rq0escxv.l9j0dhe7.du4w35lb.hv4rvrfc.dati1w0a.f10w8fjw.ipjc6fyt {
        opacity: 1;
        height: auto;
    }
    /* Unread Message Indicator (focused) */
    .o36gj0jk:hover .is6700om[data-visualcompletion="ignore"] {
        right: 0;
        transition-delay: 0s;
    }
    /* Notification bell (focused) */
    .o36gj0jk:hover .bp9cbjyn.j83agx80.owycx6da svg,
    .o36gj0jk:hover .bp9cbjyn.j83agx80.owycx6da .xthkpp0z {
        display: block;
    }
}
